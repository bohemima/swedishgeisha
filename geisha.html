<head>
  <title>geisha</title>
  <script type="text/javascript" src="http://timeago.yarp.com/jquery.timeago.js"></script>
  <script type="text/javascript">
    $(function () {
      setInterval(function () {
        $('time:not([data-time="time"])').attr('data-time', 'time').timeago();
      }, 100);
    });
  </script>
</head>

<body>
  <h1>Welcome to Swedish Geisha</h1>

  {{> room}}


</body>

<template name="room">
  <div class="roomScreen">
    <ul id="messages">
      {{#each messages}}
        <li>
          <span>{{author}} :</span> {{text}}
          <time class="timestamp" datetime="{{timestamp}}"></time>
        </li>
      {{/each}}
    </ul>
    <form action="javascript:void(0)">
      <input type="text" id="user" />
      <label for="msg">Message: </label>
      <input id="msg" />
      <button type="submit">&rArr; Send</button>
    </form>
  </div>
</template>
